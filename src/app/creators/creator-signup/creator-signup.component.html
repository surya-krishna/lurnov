<div class="min-h-screen bg-gradient-to-b from-white to-gray-50 py-12 px-4">
  <div class="max-w-4xl mx-auto bg-white shadow-lg rounded-2xl overflow-hidden">
    <div class="grid grid-cols-1 lg:grid-cols-2">
      <div class="p-8 lg:p-12">
        <h2 class="text-2xl font-semibold text-gray-900 mb-2">Create your creator account</h2>
        <p class="text-sm text-gray-600 mb-6">Set up your public profile, and start publishing courses.</p>

  <form (ngSubmit)="startSignup(f)" #f="ngForm" class="space-y-4" novalidate>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700">Full name</label>
              <input id="signup-name" name="name" [(ngModel)]="model.name" #nameCtrl="ngModel" required minlength="2" maxlength="100" placeholder="Full name" class="mt-1 block w-full rounded-md border border-gray-200 px-3 py-2 text-gray-900 placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" />
              <p class="text-xs text-gray-500 mt-1">{{ (model.name?.length || 0) }}/100 characters</p>
              <p *ngIf="(nameCtrl.invalid && (nameCtrl.touched || submitted))" class="mt-1 text-sm text-red-600">
                <span *ngIf="nameCtrl.errors?.['required']">Full name is required.</span>
                <span *ngIf="nameCtrl.errors?.['minlength']">Full name must be at least 2 characters.</span>
                <span *ngIf="nameCtrl.errors?.['maxlength']">Full name cannot exceed 100 characters.</span>
              </p>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700">Date Of Birth</label>
              <input id="signup-dob" name="dob" [(ngModel)]="model.dob" type="date" #dateCtrl="ngModel" placeholder="Date of Birth" class="mt-1 block w-full rounded-md border border-gray-200 px-3 py-2 text-gray-900 placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" [max]="getMaxDate()" required="true" />
            <p *ngIf="(dateCtrl.invalid && (dateCtrl.touched || submitted))" class="mt-1 text-sm text-red-600">Date of Birth is required.</p>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700">Display Name</label>
              <input id="signup-name" name="name" [(ngModel)]="model.display" #displayCtrl="ngModel" required minlength="2" maxlength="50" placeholder="Display Name" class="mt-1 block w-full rounded-md border border-gray-200 px-3 py-2 text-gray-900 placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" />
              <p class="text-xs text-gray-500 mt-1">{{ (model.display?.length || 0) }}/50 characters</p>
              <p *ngIf="(displayCtrl.invalid && (displayCtrl.touched || submitted))" class="mt-1 text-sm text-red-600">
                <span *ngIf="displayCtrl.errors?.['required']">Display name is required.</span>
                <span *ngIf="displayCtrl.errors?.['minlength']">Display name must be at least 2 characters.</span>
                <span *ngIf="displayCtrl.errors?.['maxlength']">Display name cannot exceed 50 characters.</span>
              </p>
            </div>

          <div>
            <label class="block text-sm font-medium text-gray-700">Email</label>
            <input id="signup-email" name="email" [(ngModel)]="model.email" #emailCtrl="ngModel" required type="email" maxlength="254" placeholder="name@domain.com" class="mt-1 block w-full rounded-md border border-gray-200 px-3 py-2 text-gray-900 placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" />
            <p *ngIf="(emailCtrl.invalid && (emailCtrl.touched || submitted))" class="mt-1 text-sm text-red-600">
              <span *ngIf="emailCtrl.errors?.['required']">Email is required.</span>
              <span *ngIf="emailCtrl.errors?.['email']">Enter a valid email.</span>
              <span *ngIf="emailCtrl.errors?.['maxlength']">Email cannot exceed 254 characters.</span>
            </p>
          </div>

          <!--<div>
            <label class="block text-sm font-medium text-gray-700">Mobile number</label>
            <input id="signup-mobile" name="mobile" [(ngModel)]="model.mobileNumber" #mobileCtrl="ngModel" required placeholder="Mobile number" class="mt-1 block w-full rounded-md border border-gray-200 px-3 py-2 text-gray-900 placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" />
            <p *ngIf="(mobileCtrl.invalid && (mobileCtrl.touched || submitted))" class="mt-1 text-sm text-red-600">Mobile number is required.</p>
          </div>-->

          <div>
            <label class="block text-sm font-medium text-gray-700">Address</label>
            <input id="signup-address" name="address" [(ngModel)]="model.address" maxlength="200" placeholder="City, Country" class="mt-1 block w-full rounded-md border border-gray-200 px-3 py-2 text-gray-900 placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" />
            <p class="text-xs text-gray-500 mt-1">{{ (model.address?.length || 0) }}/200 characters</p>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700">Bio</label>
            <textarea id="signup-bio" name="bio" [(ngModel)]="model.bio" rows="4" maxlength="1000" placeholder="Short description about your content" class="mt-1 block w-full text-black rounded-md border-gray-200 shadow-sm"></textarea>
            <p class="text-xs text-gray-500 mt-1">{{ (model.bio?.length || 0) }}/1000 characters</p>
          </div>

          <div class="grid grid-cols-3 gap-4 items-end">
            <div class="col-span-3">
              <label class="block text-sm font-medium text-gray-700">Categories / Tags</label>
              <input id="signup-categories" name="categories" [(ngModel)]="model.categories" maxlength="200" placeholder="design,marketing" class="mt-1 block w-full rounded-md border border-gray-200 px-3 py-2 text-gray-900 placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" />
              <p class="text-xs text-gray-500 mt-1">{{ (model.categories?.length || 0) }}/200 characters</p>
            </div>
            <!--<div>
              <label class="block text-sm font-medium text-gray-700">Profile image</label>
              <input id="signup-profile-image" #profileFileInput name="profileImage" type="file" (change)="handleProfileImageFile(profileFileInput.files && profileFileInput.files[0] ? profileFileInput.files[0] : null)" class="mt-1 block w-full text-sm text-gray-700" />
            </div>-->
          </div>

          <div class="flex items-center gap-2">
            <input id="terms" type="checkbox" [(ngModel)]="model.terms" #termsCtrl="ngModel" name="terms" class="h-4 w-4 text-indigo-600 border-gray-300 rounded" />
            <label for="terms" class="text-sm text-gray-700">I agree to the Terms and Privacy Policy</label>
          </div>
          <p *ngIf="(!model.terms && submitted)" class="text-sm text-red-600">You must accept Terms and Privacy Policy to continue.</p>

        <div  *ngIf="otpStage" class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-3">
          <label class="block text-sm font-medium text-gray-700">Verify OTP </label>
          <input id="signup-email-otp" name="emailOtp" type="text" placeholder="Email OTP" [(ngModel)]="emailOtp" #emailOtpCtrl="ngModel" required minlength="4" maxlength="10" class="mt-1 block w-full rounded-md border border-gray-200 px-3 py-2 text-gray-900 placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" />
          <p *ngIf="(emailOtpCtrl.invalid && (emailOtpCtrl.touched || submitted))" class="mt-1 text-sm text-red-600">OTP is required.</p>
        </div>

          <div *ngIf="otpStage"  class="flex justify-end gap-3">
            <button class="px-4 py-2 bg-indigo-600 text-white rounded-md shadow-sm hover:bg-indigo-700" type="submit">Create account</button>
            <button class="px-4 py-2 border text-black rounded-md" type="button" (click)="reset()">Reset</button>
            <button class="px-4 py-2 text-black border rounded-md" type="button" (click)="verifyOtps()">Resend OTPs</button>
          </div>
          <div *ngIf="!otpStage" class="mt-4 flex justify-end gap-3">
            <button type="button" class="px-4 py-2 bg-green-600 text-white rounded-md" (click)="verifyOtps()">Verify & Complete</button>
        </div>
        </form>
      </div>

      <div class="hidden lg:block bg-gradient-to-b from-indigo-600 to-indigo-700 text-white p-8">
        <div class="h-full flex flex-col justify-center">
          <h3 class="text-xl font-bold">Welcome, creators</h3>
          <p class="mt-3 text-sm opacity-90">Join Lurnov to publish courses, connect with learners and grow your audience.</p>
          <ul class="mt-6 space-y-2 text-sm">
            <li class="flex items-start gap-3"><span class="inline-flex items-center justify-center h-6 w-6 rounded-full bg-white text-indigo-600">✓</span> Publish courses easily</li>
            <li class="flex items-start gap-3"><span class="inline-flex items-center justify-center h-6 w-6 rounded-full bg-white text-indigo-600">✓</span> Track learner metrics</li>
            <li class="flex items-start gap-3"><span class="inline-flex items-center justify-center h-6 w-6 rounded-full bg-white text-indigo-600">✓</span> Monetize your content</li>
          </ul>
        </div>
      </div>
    </div>

  </div>
</div>
